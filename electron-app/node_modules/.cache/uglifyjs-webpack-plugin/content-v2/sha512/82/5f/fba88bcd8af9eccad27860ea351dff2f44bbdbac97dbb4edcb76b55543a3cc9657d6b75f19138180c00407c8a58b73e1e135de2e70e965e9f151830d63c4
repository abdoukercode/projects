{"code":"!function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,\"__esModule\",{value:!0})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,\"a\",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=3)}([function(t){t.exports=Object.freeze({EVENTS:{DID_SCROLL:\"electron-scroller-did-scroll\",SCROLL_TO:\"electron-scroller-scroll-to\",DID_SCROLL_TO:\"electron-scroller-did-scroll-to\"},NAVTYPE:{FORWARD:1,BACK:2,RELOAD:3,NEW_PAGE:4}})},function(t,e,o){\"use strict\";\n/**\n*  index.js - base file for electron-scroller\n*\n*  @author John McCormick\n*  @version 0.5.0\n*  @module electron-scroller\n*  @license ISC\n*/function i(t){this.selector=t,this.details=[],this.index=-1,this.motion=r.NEW_PAGE}const{EVENTS:n,NAVTYPE:r}=o(0);i.prototype.forward=function(){this.index+=1,this.index>=this.details.length&&(this.index=this.details.length-1),this.motion=r.FORWARD},i.prototype.back=function(){0<this.index&&(this.index-=1),this.motion=r.BACK},i.prototype.reload=function(){this.motion=r.RELOAD},i.prototype.setScrollPosition=function(t){try{this.details[this.index].position=t}catch(t){throw Error(`Unable to set scroll position:\\n${t}`)}},i.prototype.getScrollPosition=function(){try{let t=this.details[this.index].position;return t||{x:0,y:0}}catch(t){throw Error(`electron-scroller unable to get scroll position:\\n${t}`)}return position},i.prototype.didNavigate=function(t){this.motion===r.NEW_PAGE&&(this.index+=1,this.index<this.details.length&&(this.details=this.details.slice(0,this.index)),this.details.push({url:t})),this.motion=r.NEW_PAGE},i.prototype.didScroll=function(t){this.setScrollPosition(t)},t.exports=i},function(t,e,o){\"use strict\";function i(){this.trackers=new Map,this.motion=l.NEW_PAGE}function n(t){this.name=\"DuplicateError\",this.message=t,this.stack=(new Error).stack}const{ipcRenderer:r}=o(!function(){var t=new Error('Cannot find module \"electron\"');throw t.code=\"MODULE_NOT_FOUND\",t}()),s=o(1),{EVENTS:c,NAVTYPE:l}=o(0);i.prototype.add=function(t){let e=this;t=t||\"webview\";let o=document.querySelector(t);if(null===o||!function(t){try{return t instanceof HTMLElement}catch(e){return\"object\"==typeof t&&1===t.nodeType&&\"object\"==typeof t.style&&\"object\"==typeof t.ownerDocument}}(o)){let e=`Unable to find <webview> with selector = \"${t}\".`;throw new ReferenceError(e)}if(void 0!==this.trackers.get(t)){let e=`A webview with the selector \"${t}\"`;throw new n(e+=\" is already being tracked\")}let i=new s(t);o.addEventListener(\"ipc-message\",function(o){o.channel===c.DID_SCROLL&&e.didScroll.call(e,t,o.args[0].position)}),o.addEventListener(\"did-navigate\",function(){e.didNavigate.call(e,t)}),o.addEventListener(\"did-finish-load\",function(){if(e.motion!==l.NEW_PAGE){let t=i.getScrollPosition();o.send(c.SCROLL_TO,t),e.motion=l.NEW_PAGE}}),i.webviewGoBack=o.goBack,o.goBack=function(){i.back(),i.webviewGoBack.call(o),e.motion=l.BACK},i.webviewGoForward=o.goForward,o.goForward=function(){i.forward(),i.webviewGoForward.call(o),e.motion=l.FORWARD},i.webviewReload=o.reload,o.reload=function(){i.reload(),i.webviewReload.call(o),e.motion=l.RELOAD},this.trackers.set(t,i);try{o.getURL()&&this.didNavigate(t)}catch(t){}},i.prototype.didScroll=function(t,e){this.trackers.get(t).didScroll(e)},i.prototype.didNavigate=function(t){let e=document.querySelector(t);this.trackers.get(t).didNavigate(e.getURL())},i.prototype.preload=function(){document.addEventListener(\"DOMContentLoaded\",function(){window.addEventListener(\"scroll\",function(){r.sendToHost(c.DID_SCROLL,{position:{x:window.scrollX,y:window.scrollY}})})}),r.on(c.SCROLL_TO,function(t,e){window.scrollTo(e.x,e.y),r.sendToHost(c.DID_SCROLL_TO,{position:e})})},n.prototype=new Error,t.exports=new i},function(t,e,o){o(2)}]);","extractedComments":[]}